{% extends "base_generic.html" %}

{% block content %}

{% include "includes/breadcrumb.html" with level=3 url2="ticket" page2="Solicitações" current_page="Relatórios"%}

<div class="container mt-5">
    <h3 class="h3">Relatórios</h3>

    <div class="divider-ticket mb-3"></div>

    {{form}}

    {% if solicitacoes %}
    {% include "includes/messages.html" %}
    
    
    
    <div class="d-flex gap-3">
        <div class="container w-50 mt-3 border border-3 pb-3 rounded">
            {{solicitacoes|safe}}
        </div>
        
        <div class="container w-50 mt-3 border border-3 pb-3 rounded">
            {{solicitacoes_por_periodo|safe}}
            <form method="post" action="">{% csrf_token %}
                <div class="d-flex justify-content-around mt-3">
                    <div>
                        {{form.data_inicio.label}}:{{form.data_inicio}}
                    </div>
                    <div>
                        {{form.data_fim.label}}:{{form.data_fim}}
                    </div>
                    <button class="btn btn-primary" type="submit">Atualizar intervalo</button>
                </div>
            </form>
        </div>
    </div>
    <div class="d-flex gap-3">
        <div class="container w-50 mt-3 border border-3 pb-3 rounded">
            {{solicitacoes_pendentes|safe}}
        </div>

        <div class="container w-50 mt-3 border border-3 pb-3 rounded">
            {{solicitacoes_abertas_por_setor|safe}}
        </div>
    </div>

    
    {% else %}
    <p>Não existem solicitações no sistema</p>
    {% endif %}

</div>

{% endblock %}